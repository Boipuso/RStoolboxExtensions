# setting up a ReadMe file
usethis::use_readme_rmd()
usethis::use_readme_rmd()
usethis::use_roxygen_md()
rename_bands_fun <- function(raster, sensor, subsetting = TRUE) {
band_names <- c("blue", "green", "red", "nir", "swir1", "swir2")
if (sensor == "Landsat8") {
bands <- c(2:7)
}
else if (sensor == "Landsat7") {
bands <- c(1:5, 8)
}
else if (sensor == "Landsat5") {
bands <- c(1:5, 7)
}
else if (sensor == "Sentinel2") {
bands <- c(2:4, 8, 11:12)
}
else {
stop("Sensor not supported yet.")
}
if(subsetting == FALSE){
names(raster[[bands]]) <- band_names
}
else{
raster <- subset(raster, bands)
names(raster) <- band_names
}
return(raster)
}
# import the scene and features
Sebangau <- terra::rast('data/L8_23median.tif')
# set working directory
getwd()
setwd("C:/Users/henni/Documents/Git/Eagle_1st_Semester/R_Project")
# import the scene and features
Sebangau <- terra::rast('data/L8_23median.tif')
renamed <- rename_bands(raster = Sebangau, sensor = "Landsat8", subsetting = TRUE)
renamed <- rename_bands_fun(raster = Sebangau, sensor = "Landsat8", subsetting = TRUE)
rename_bands_fun <- function(raster, sensor, subsetting = TRUE) {
band_names <- c("blue", "green", "red", "nir", "swir1", "swir2")
if (sensor == "Landsat8") {
bands <- c(2:7)
}
else if (sensor == "Landsat7") {
bands <- c(1:5, 8)
}
else if (sensor == "Landsat5") {
bands <- c(1:5, 7)
}
else if (sensor == "Sentinel2") {
bands <- c(2:4, 8, 11:12)
}
else {
stop("Sensor not supported yet.")
}
if(subsetting == FALSE){
names(raster[[bands]]) <- band_names
}
else{
raster <- terra::subset(raster, bands)
terra::names(raster) <- band_names
}
return(raster)
}
renamed <- rename_bands_fun(raster = Sebangau, sensor = "Landsat8", subsetting = TRUE)
rename_bands_fun <- function(raster, sensor, subsetting = TRUE) {
band_names <- c("blue", "green", "red", "nir", "swir1", "swir2")
if (sensor == "Landsat8") {
bands <- c(2:7)
}
else if (sensor == "Landsat7") {
bands <- c(1:5, 8)
}
else if (sensor == "Landsat5") {
bands <- c(1:5, 7)
}
else if (sensor == "Sentinel2") {
bands <- c(2:4, 8, 11:12)
}
else {
stop("Sensor not supported yet.")
}
if(subsetting == FALSE){
names(raster[[bands]]) <- band_names
}
else{
raster <- terra::subset(raster, bands)
names(raster) <- band_names
}
return(raster)
}
renamed <- rename_bands_fun(raster = Sebangau, sensor = "Landsat8", subsetting = TRUE)
setwd(C:/Users/henni/Documents/Git/RStoolboxExtensions)
getwd()
setwd("C:/Users/henni/Documents/Git/RStoolboxExtensions")
getwd()
devtools::document()
devtools::check()
library(c(devtools, roxygen2, testthat, knitr))
library(RStoolboxExtensions)
?renameBands()
?renameBands()
library(RStoolboxExtensions)
?renameBands()
library(devtools)
library(usethis)
library(devtools)
?stack()
devtools::load_all(".")
getwd()
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
lirary(roxygen2)
library(roxygen2)
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
> roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
library(RStoolboxExtensions)
?rename_bands
library(RStoolboxExtensions)
?rename_bands
?calc_indices
getwd()
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
?usethis::use_testthat()
usethis::use_testthat()
use_test()
library(usethis)
use_test()
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
roxygenize("C:/Users/henni/Documents/Git/RStoolboxExtensions")
library(RStoolboxExtensions)
?auto_superClass
# set working directory
getwd()
library(RStoolboxExtensions)
# import the scene and features
Sebangau <- terra::rast('C:/Users/henni/Documents/Git/Eagle_1st_Semester/R_Project/data/L8_23median.tif')
Sebangau_15 <- terra::rast('C:/Users/henni/Documents/Git/Eagle_1st_Semester/R_Project/data/L8_15median.tif')
feature_collection <- st_read("C:/Users/henni/Documents/Git/Eagle_1st_Semester/R_Project/data/exported_feature_collection.geojson")
library(sf)
feature_collection <- st_read("C:/Users/henni/Documents/Git/Eagle_1st_Semester/R_Project/data/exported_feature_collection.geojson")
# reassigning the landcvoer values to be a character description of the class instead of numerical values
landcover <- c('forest','nonforest','afforestation','deforestation')
feature_collection$landcover <- landcover[feature_collection$landcover]
Sclassification <- auto_superClass(img = Sebangau, img2 = Sebangau_15, train_features = feature_collection,
responseCol = "landcover", sensor = "Landsat8", indices = c("ndvi", "ndmi"))
class_img <- Sclassification$superClass_img
polygons <- extr_polygons(class_img)
raster <- extr_rasters(class_img, polygons)
plot(class_img)
View(class_img)
plot(Sclassification$superClass_img)
